# Управление на Продукти

Управлението на продуктите е разделено на две основни части: общ преглед (списък) и детайлна страница за създаване/редакция.

---

## 1. Преглед (Списък с продукти)

**Изглед:** Табличен списък на всички добавени продукти.

### 1.1. Функционалности

*   **Чекбоксове:** В началото на всеки ред има чекбокс за избор на множество продукти.
*   **Масови действия:** Падащо меню, което се активира при избор на поне един продукт и предлага опции за:
    *   Активиране
    *   Деактивиране
    *   Дублиране
    *   Изтриване
*   **Филтриране по категории:** Падащо меню над таблицата за филтриране на продуктите, принадлежащи към конкретна категория.

### 1.2. Колони в таблицата

*   **ID:**
    *   **Описание:** Уникално ID на продукта от базата данни.
    *   **Филтър:** Сортиране (възходящ/низходящ ред) и поле за търсене по конкретно ID.
*   **Изображение:**
    *   **Описание:** Миниатюра на основната снимка на продукта.
    *   **Филтър:** Няма.
*   **Референция:**
    *   **Описание:** Уникален и задължителен `ref.number`.
    *   **Филтър:** Поле за търсене по референция.
*   **Категория:**
    *   **Описание:** Показва категорията по подразбиране.
    *   **Филтър:** Поле за търсене по име на категория.
*   **Цена:**
    *   **Описание:** Показва продажната цена с ДДС.
    *   **Филтър:** Две полета за задаване на ценови диапазон (от / до).
*   **Количество:**
    *   **Описание:** Показва общото количество на продукта.
    *   **Филтър:** Две полета за задаване на количествен диапазон (от / до).
*   **Характеристики:**
    *   **Описание:** Падащо меню за избор на вече дефинирана характеристика и нейна стойност за филтриране.
*   **Статус:**
    *   **Описание:** Превключвател (On/Off) за бърза активация/деактивация.
*   **Редакция:**
    *   **Описание:** Икона (напр. молив) за отваряне на страницата за редакция на продукта.
*   **Действия:**
    *   **Описание:** Падащо меню с опции: Преглед (отваря URL адреса на продукта в нов таб), Дублиране, Изтриване.

---

## 2. Създаване / Редакция на продукт

Страницата за управление на продукт е разделена на табове с групирани полета.

### Таб 1: Основни настройки

*   **Изображения:**
    *   Интерфейс за качване на множество изображения.
    *   При маркиране на качена снимка се появява чекбокс `[ ] Основна снимка`.
    *   До всяка снимка има поле за `ALT` текст. По подразбиране се генерира автоматично: `{Заглавие на продукта} - {пореден номер}` (напр. "Печка на дърва - 1").
*   **Описания:**
    *   **Кратко описание:** WYSIWYG текстов редактор.
    *   **Дълго описание:** WYSIWYG текстов редактор.
    *   **Изискване:** И двата редактора трябва да имат бутон за превключване към изглед на генерирания HTML код.
*   **Връзки:**
    *   Бутон `+ Добави характеристика`: Отваря модален прозорец за избор на дефинирани характеристики и стойности.
    *   Бутон `+ Добави марка`: Отваря падащо меню за избор от дефинираните марки.
*   **Комбинации:**
    *   Радио бутони: `( ) Обикновен продукт` (по подразбиране) / `( ) Продукт с комбинации`.
    *   При избор на "Комбинации" се появява генератор. В него се показват дефинираните Атрибути (напр. Цвят, Размер). Администраторът избира атрибути и стойности, след което натиска бутон "Генерирай".
    *   Системата създава таблица с всички възможни комбинации. За всяка комбинация могат да се зададат: Реф. номер (задължително), Влияние върху теглото (+/-), Влияние върху цената (+/-). Тези стойности се добавят към основните за продукта.
*   **Основни данни:**
    *   **Референция:** Задължително поле.
    *   **Количество:** Не се редактира ръчно. Сбор от наличностите по складове или сбор от количествата на комбинациите.
    *   **Цена (с ДДС / без ДДС):** Въвежда се едната стойност, другата се изчислява автоматично на база ДДС от настройките.
    *   **Категории:** Дървовидна структура за избор на множество категории. Има опция за маркиране на една категория като "по подразбиране".

### Таб 2: Количество

*   Показва общото количество.
*   Под него има таблица с разбивка на наличностите по всеки дефиниран **Склад**.

### Таб 3: Доставка

*   **Размери:** Полета за Ширина, Височина, Дълбочина, Тегло.
*   **Срок за доставка:** Избор от предефинирани стойности (от Настройки) или поле за свободен текст.
*   **Налични куриери:** Списък с всички активни куриери. По подразбиране всички са избрани. Администраторът може да премахне отметка, за да скрие даден куриер като опция за доставка за този конкретен продукт.

### Таб 4: Цени

*   **Ценообразуване:**
    *   **Цена на дребно (с/без ДДС)**
    *   **Себестойност:** Доставната цена без ДДС.
    *   **Марж:** Поле, което не се редактира. Автоматично изчислява печалбата в стойност (лв.) и проценти (%).
*   **Намаления:**
    *   Бутон `+ Добави намаление`.
    *   Показват се полета за период на валидност (от дата / до дата).
    *   Поле за стойност на отстъпката и избор дали тя е сума (лв.) или процент (%).

### Таб 5: SEO

*   **Мета заглавие** и **Мета описание** (ще се генерират автоматично от SEO модул, с опция за ръчна промяна).
*   **SEO URL** (автоматично транслитериран от заглавието, с опция за ръчна промяна).
*   **Canonical URL** (по подразбиране копира SEO URL, с опция за ръчна промяна).

### Таб 6: Опции

*   **Видимост:** Падащо меню с опции:
    *   **Видим:** Продуктът се показва в категории, търсене и е достъпен по URL.
    *   **Невидим:** Продуктът е достъпен само ако се отвори директният му URL. Не се показва в категории и търсене.
*   **Доставчици:** Падащо меню за избор на доставчик от списъка.
